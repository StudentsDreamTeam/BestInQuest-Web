{"C:/BestInQuest-Web/src/features/auth/components/LoginPage.jsx":{"path":"C:/BestInQuest-Web/src/features/auth/components/LoginPage.jsx","statementMap":{"0":{"start":{"line":4,"column":20},"end":{"line":10,"column":1}},"1":{"start":{"line":11,"column":23},"end":{"line":19,"column":1}},"2":{"start":{"line":20,"column":14},"end":{"line":25,"column":1}},"3":{"start":{"line":26,"column":17},"end":{"line":31,"column":1}},"4":{"start":{"line":32,"column":13},"end":{"line":36,"column":1}},"5":{"start":{"line":37,"column":19},"end":{"line":39,"column":1}},"6":{"start":{"line":40,"column":14},"end":{"line":53,"column":1}},"7":{"start":{"line":54,"column":23},"end":{"line":77,"column":1}},"8":{"start":{"line":78,"column":27},"end":{"line":89,"column":1}},"9":{"start":{"line":90,"column":22},"end":{"line":108,"column":1}},"10":{"start":{"line":109,"column":24},"end":{"line":124,"column":1}},"11":{"start":{"line":125,"column":21},"end":{"line":131,"column":1}},"12":{"start":{"line":133,"column":28},"end":{"line":133,"column":40}},"13":{"start":{"line":134,"column":34},"end":{"line":134,"column":46}},"14":{"start":{"line":135,"column":42},"end":{"line":135,"column":57}},"15":{"start":{"line":136,"column":42},"end":{"line":136,"column":57}},"16":{"start":{"line":137,"column":28},"end":{"line":137,"column":40}},"17":{"start":{"line":138,"column":20},"end":{"line":138,"column":29}},"18":{"start":{"line":139,"column":23},"end":{"line":151,"column":3}},"19":{"start":{"line":140,"column":4},"end":{"line":140,"column":27}},"20":{"start":{"line":141,"column":4},"end":{"line":141,"column":26}},"21":{"start":{"line":142,"column":4},"end":{"line":142,"column":17}},"22":{"start":{"line":143,"column":4},"end":{"line":150,"column":5}},"23":{"start":{"line":144,"column":6},"end":{"line":144,"column":35}},"24":{"start":{"line":146,"column":6},"end":{"line":146,"column":53}},"25":{"start":{"line":147,"column":6},"end":{"line":147,"column":77}},"26":{"start":{"line":149,"column":6},"end":{"line":149,"column":29}},"27":{"start":{"line":152,"column":30},"end":{"line":154,"column":3}},"28":{"start":{"line":153,"column":4},"end":{"line":153,"column":78}},"29":{"start":{"line":155,"column":29},"end":{"line":157,"column":3}},"30":{"start":{"line":156,"column":4},"end":{"line":156,"column":35}},"31":{"start":{"line":158,"column":2},"end":{"line":178,"column":674}},"32":{"start":{"line":164,"column":23},"end":{"line":164,"column":47}},"33":{"start":{"line":174,"column":23},"end":{"line":174,"column":50}}},"fnMap":{"0":{"name":"LoginPage","decl":{"start":{"line":132,"column":24},"end":{"line":132,"column":33}},"loc":{"start":{"line":132,"column":36},"end":{"line":179,"column":1}},"line":132},"1":{"name":"(anonymous_1)","decl":{"start":{"line":139,"column":23},"end":{"line":139,"column":24}},"loc":{"start":{"line":139,"column":40},"end":{"line":151,"column":3}},"line":139},"2":{"name":"(anonymous_2)","decl":{"start":{"line":152,"column":30},"end":{"line":152,"column":31}},"loc":{"start":{"line":152,"column":36},"end":{"line":154,"column":3}},"line":152},"3":{"name":"(anonymous_3)","decl":{"start":{"line":155,"column":29},"end":{"line":155,"column":30}},"loc":{"start":{"line":155,"column":35},"end":{"line":157,"column":3}},"line":155},"4":{"name":"(anonymous_4)","decl":{"start":{"line":164,"column":16},"end":{"line":164,"column":17}},"loc":{"start":{"line":164,"column":23},"end":{"line":164,"column":47}},"line":164},"5":{"name":"(anonymous_5)","decl":{"start":{"line":174,"column":16},"end":{"line":174,"column":17}},"loc":{"start":{"line":174,"column":23},"end":{"line":174,"column":50}},"line":174}},"branchMap":{"0":{"loc":{"start":{"line":147,"column":15},"end":{"line":147,"column":75}},"type":"binary-expr","locations":[{"start":{"line":147,"column":15},"end":{"line":147,"column":26}},{"start":{"line":147,"column":30},"end":{"line":147,"column":75}}],"line":147},"1":{"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":46}},"type":"cond-expr","locations":[{"start":{"line":171,"column":27},"end":{"line":171,"column":33}},{"start":{"line":171,"column":36},"end":{"line":171,"column":46}}],"line":171},"2":{"loc":{"start":{"line":178,"column":111},"end":{"line":178,"column":161}},"type":"cond-expr","locations":[{"start":{"line":178,"column":126},"end":{"line":178,"column":141}},{"start":{"line":178,"column":144},"end":{"line":178,"column":161}}],"line":178},"3":{"loc":{"start":{"line":178,"column":189},"end":{"line":178,"column":225}},"type":"cond-expr","locations":[{"start":{"line":178,"column":204},"end":{"line":178,"column":212}},{"start":{"line":178,"column":215},"end":{"line":178,"column":225}}],"line":178},"4":{"loc":{"start":{"line":178,"column":320},"end":{"line":178,"column":391}},"type":"binary-expr","locations":[{"start":{"line":178,"column":320},"end":{"line":178,"column":325}},{"start":{"line":178,"column":345},"end":{"line":178,"column":391}}],"line":178},"5":{"loc":{"start":{"line":178,"column":488},"end":{"line":178,"column":522}},"type":"cond-expr","locations":[{"start":{"line":178,"column":503},"end":{"line":178,"column":512}},{"start":{"line":178,"column":515},"end":{"line":178,"column":522}}],"line":178}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":178,"13":178,"14":178,"15":178,"16":178,"17":178,"18":178,"19":5,"20":5,"21":5,"22":5,"23":5,"24":2,"25":2,"26":4,"27":178,"28":1,"29":178,"30":2,"31":178,"32":99,"33":60},"f":{"0":178,"1":5,"2":1,"3":2,"4":99,"5":60},"b":{"0":[2,0],"1":[1,177],"2":[1,177],"3":[1,177],"4":[178,31],"5":[5,173]},"inputSourceMap":{"version":3,"sources":["C:/BestInQuest-Web/src/features/auth/components/LoginPage.jsx"],"sourcesContent":["// === FILE: .\\src\\features\\auth\\components\\LoginPage.jsx ===\r\n\r\nimport { useState } from 'react';\r\nimport { styled } from 'styled-components';\r\nimport { useUser } from '../../../contexts/UserContext';\r\n\r\nconst PageWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa; /* Светлый фон для всей страницы */\r\n`;\r\n\r\nconst LoginContainer = styled.div`\r\n  background-color: #fff;\r\n  padding: 3rem 2.5rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #9747FF; /* Фирменный фиолетовый */\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 1.25rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nconst InputGroup = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 0.8rem 1rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  box-sizing: border-box; /* Учитываем padding и border в общей ширине */\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #9747FF;\r\n    box-shadow: 0 0 0 0.2rem rgba(151, 71, 255, 0.25);\r\n  }\r\n`;\r\n\r\nconst PasswordToggle = styled.button`\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 1rem;\r\n  transform: translateY(-50%);\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 0.25rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #6c757d;\r\n  font-size: 0.8rem;\r\n\r\n  /* Замените на вашу иконку глаза, если есть */\r\n  /* svg {\r\n    width: 20px;\r\n    height: 20px;\r\n  } */\r\n  &:hover {\r\n    color: #333;\r\n  }\r\n`;\r\n\r\n\r\nconst ForgotPasswordLink = styled.a`\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  text-decoration: none;\r\n  align-self: flex-start; /* Сдвигаем влево */\r\n  margin-top: -0.5rem; /* Небольшой отступ вверх */\r\n  margin-bottom: 1rem;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst PrimaryButton = styled.button`\r\n  background-color: #9747FF;\r\n  color: white;\r\n  padding: 0.9rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: #823cdf;\r\n  }\r\n  &:disabled {\r\n    background-color: #c7a5f2;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst SecondaryButton = styled.button`\r\n  background-color: #fff;\r\n  color: #333;\r\n  padding: 0.9rem 1.5rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s, border-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: #f8f9fa;\r\n    border-color: #adb5bd;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.p`\r\n  color: red;\r\n  font-size: 0.875rem;\r\n  margin-top: 1rem;\r\n  margin-bottom: -0.5rem; /* Компенсировать отступ формы */\r\n  text-align: left;\r\n`;\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const { login } = useUser();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setIsSubmitting(true);\r\n    setError('');\r\n    try {\r\n      await login(email, password);\r\n      // Успешный вход обработается в App.jsx через UserContext\r\n      // onLoginSuccess больше не нужен здесь, так как App.jsx слушает user из context\r\n    } catch (err) {\r\n      console.error('Login Page: Login failed', err);\r\n      setError(err.message || 'Ошибка входа. Пожалуйста, проверьте данные.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateProfile = () => {\r\n    console.log('Переход на страницу создания профиля (пока не реализовано)');\r\n    // Здесь будет логика перехода на другую страницу или модальное окно\r\n  };\r\n\r\n  const toggleShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <LoginContainer>\r\n        <Title>Best in Quest</Title>\r\n        <Subtitle>Вход в профиль</Subtitle>\r\n        <Form onSubmit={handleSubmit}>\r\n          <InputGroup>\r\n            <Input\r\n              type=\"email\"\r\n              placeholder=\"Электронная почта\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n              disabled={isSubmitting}\r\n            />\r\n          </InputGroup>\r\n          <InputGroup>\r\n            <Input\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              placeholder=\"Пароль\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              disabled={isSubmitting}\r\n            />\r\n            <PasswordToggle type=\"button\" onClick={toggleShowPassword} title={showPassword ? \"Скрыть пароль\" : \"Показать пароль\"} disabled={isSubmitting}>\r\n              {showPassword ? \"Скрыть\" : \"Показать\"}\r\n            </PasswordToggle>\r\n          </InputGroup>\r\n          <ForgotPasswordLink href=\"#\">Не помню пароль</ForgotPasswordLink>\r\n          {error && <ErrorMessage>{error}</ErrorMessage>}\r\n          <PrimaryButton type=\"submit\" disabled={isSubmitting}>\r\n            {isSubmitting ? 'Вход...' : 'Войти'}\r\n          </PrimaryButton>\r\n          <SecondaryButton type=\"button\" onClick={handleCreateProfile} disabled={isSubmitting}>\r\n            Создать профиль\r\n          </SecondaryButton>\r\n        </Form>\r\n      </LoginContainer>\r\n    </PageWrapper>\r\n  );\r\n}"],"mappings":"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","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1f0a1e26eb8ff2ddb62f9e86354f50886ce2bca3"}}